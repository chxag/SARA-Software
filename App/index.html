<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="color-scheme" content="light only" />
        <title>SARA</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="app.css" />
    </head>
    <body>
        <nav class="navbar navbar-expand-sm bg-info" data-bs-theme="light">
            <div class="container-fluid">
                <img id="logo" src="SARA_logo.png" alt="SARA Logo" />
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarText"
                    aria-controls="navbarText"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarText">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="input.html">Input Data</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="layouts.html"
                                >Choose Ready Rooms</a
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <h2 id="layoutTitle"></h2>

        <h3 id="roomStateLabel" style="display: none">
            Current State: <span id="roomStateValue"></span>
        </h3>

        <div id="legend">
            <div class="mode">
                <div id="stack-logo" class="mode-logo">
                    <img src="chair.png" alt="Chair" class="mode-logo-image" />
                    <span class="mode-logo-text">S</span>
                </div>
                <div class="label">Stack</div>
            </div>

            <div class="mode">
                <div id="place-logo" class="mode-logo">
                    <img src="chair.png" alt="Chair" class="mode-logo-image" />
                    <span class="mode-logo-text">P</span>
                </div>
                <div class="label">Place</div>
            </div>

            <div class="mode">
                <div id="rotate-logo" class="mode-logo">
                    <img src="chair.png" alt="Chair" class="mode-logo-image" />
                    <span class="mode-logo-text">R</span>
                </div>
                <div class="label">Rotate</div>
            </div>

            <div class="mode">
                <div id="move-logo" class="mode-logo">
                    <img src="chair.png" alt="Chair" class="mode-logo-image" />
                    <span class="mode-logo-text">M</span>
                </div>
                <div class="label">Move</div>
            </div>

            <div class="mode">
                <div id="delete-logo" class="mode-logo">
                    <img src="chair.png" alt="Chair" class="mode-logo-image" />
                    <span class="mode-logo-text">D</span>
                </div>
                <div class="label">Delete</div>
            </div>

            <div class="mode">
                <div id="robot-logo" class="mode-logo">
                    <img src="robot.png" alt="Robot" class="mode-logo-image" />
                </div>
                <div class="label">Robot</div>
            </div>
        </div>

        <div class="zoom-controls">
            <button id="zoom-in" class="zoom-button"><span>+</span></button>
            <button id="zoom-out" class="zoom-button"><span>-</span></button>
        </div>

        <div class="grid-container"></div>

        <div id="rotateControlPanel" style="display: none">
            <div id="rotationRangeDegreeDiv">
                <input
                    type="range"
                    id="rotationRange"
                    min="0"
                    max="350"
                    step="10"
                    value="0"
                />
                <span id="rotationDegree">0Â°</span>
            </div>

            <button id="rotationButton">Set as Default</button>
        </div>

        <div id="stack-counter" style="display: none">
            <p>
                <span id="stack"></span> Remaining Chairs:
                <span id="remainder"></span>
            </p>
        </div>

        <div id="send-div">
            <button class="grid-buttons" id="save-layout">
                <span>Save Layout</span>
            </button>
            <button class="grid-buttons grey-out" id="initiateRobot">
                <span>Initiate Robot - Arrange Chairs</span>
            </button>
            <button class="grid-buttons" id="clear-layout">
                <span>Clear Layout</span>
            </button>
        </div>

        <hr />

        <div id="tutorial">
            <p>
                You can toggle between <strong>modes</strong> by clicking the
                icons in the bottom left corner. Pressing numbers 1 to 6, as
                well as the letters on the icons (X for robot), would also work.
                There are <strong>zoom controls</strong> in the bottom right
                corner.
            </p>
            <p>
                Activate <strong>Stack mode</strong> to place stacks on empty
                grid cells. Next, activate <strong>Place mode</strong> to first
                select a stack (e.g. "S1"), then place chairs of the selected
                stack (e.g. "C1 (S1)", "C2 (S1)", "C3 (S1)"). The numbering on
                the chairs is merely to display associations between stacks and
                chairs.
            </p>
            <p>
                Chairs <strong>highlighted red</strong> denote that the chair is
                inaccessible for SARA. The front of the chair needs to be clear
                for SARA to interact with it. Chairs can also be inaccessible
                due to no possible pathing from SARA to those chairs. SARA can
                be placed in <strong>Robot mode</strong>.
            </p>
            <p>
                In <strong>Rotate mode</strong>, you can click to rotate chairs
                90 degrees clockwise. You can also hold down on a chair to open
                a control panel to rotate more precisely. You can set the
                default angle for future chair placements in the control panel.
                Click outside the control panel to close it.
            </p>
            <p>
                In <strong>Move mode</strong>, you select a chair and then
                choose where the chair would go. In
                <strong>Delete mode</strong>, deleting a stack would also delete
                all the associated chairs of that stack. If
                <strong>no modes</strong> are activated, you can click on a
                chair to highlight associations where stacks are highlighted
                yellow and their chairs are highlighted blue.
            </p>
            <p>
                You can <strong>save the layout</strong> by first giving it a
                name. Once a layout is saved, it will be considered a room SARA
                can operate within. Rooms are either in a stacked or unstacked
                state, and now you can finally
                <strong>initiate the robot</strong> to start doing its work.
            </p>
            <p>
                You can access any room in the future in the
                <strong>'Choose Ready Rooms'</strong> page found at the
                navigation bar. You will also be able to rename and delete
                rooms, as well as have the JSON data associated with the rooms
                there.
            </p>
        </div>

        <!-- <script src="app.js"></script> -->
        <script src="gridModifier.js"></script>
        <script src="layoutModifier.js"></script>
        <script src="zoomHandler.js"></script>
        <script src="utils.js"></script>
        <script src="invalidChairsHandler.js"></script>
        <script src="modeHandler.js"></script>
        <script src="clickHandler.js"></script>
        <script src="gridEventHandler.js"></script>
        <script src="output.js"></script>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
